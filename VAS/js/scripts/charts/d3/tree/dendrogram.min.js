$(window).on("load",function(){var l=d3.select("#dendrogram"),d={top:20,right:20,bottom:30,left:50},s=l.node().getBoundingClientRect().width-d.left-d.right,i=600-d.top-d.bottom-5,c=l.append("svg"),f=c.attr("width",s+d.left+d.right).attr("height",i+d.top+d.bottom).append("g").attr("transform","translate("+d.left+","+d.top+")"),p=d3.layout.cluster().size([i,s-180]),g=d3.svg.diagonal().projection(function(t){return[t.y,t.x]});d3.json("data/d3/tree/dendrogram.json",function(t,e){var n=p.nodes(e),r=p.links(n),o=(f.append("g").attr("class","d3-tree-link-group").selectAll(".d3-tree-link").data(r).enter().append("path").attr("class","d3-tree-link").style("fill","none").style("stroke","#e3e3e3").style("stroke-width",1.5).attr("d",g),f.append("g").attr("class","d3-tree-node-group").selectAll(".d3-tree-node").data(n).enter().append("g").attr("class","d3-tree-node").attr("transform",function(t){return"translate("+t.y+","+t.x+")"}));o.append("circle").style("fill","#fff").style("stroke","#E84A5F").style("stroke-width",1.5).attr("r",4.5);o.append("text").attr("dx",function(t){return t.children?-10:10}).attr("dy",4).style("text-anchor",function(t){return t.children?"end":"start"}).style("font-size",12).style("background-color","#fff").text(function(t){return t.name});function a(){s=l.node().getBoundingClientRect().width-d.left-d.right,n=p.nodes(e),r=p.links(n),c.attr("width",s+d.left+d.right),f.attr("width",s+d.left+d.right),p.size([i,s-180]),f.selectAll(".d3-tree-link").attr("d",g),f.selectAll(".d3-tree-node").attr("transform",function(t){return"translate("+t.y+","+t.x+")"})}$(window).on("resize",a),$(".menu-toggle").on("click",a)})});